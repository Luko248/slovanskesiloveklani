/**
 * backdrop-filter â€” Glassmorphism & Background Effects
 *
 * MDN: https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter
 * Baseline: ğŸ”µ Newly Available (since Sept 2024)
 * Support: 92%
 *
 * Task: Apply visual effects to the area behind an element (blur, brightness, etc.)
 * Why: Creates frosted glass, tinted overlays, and depth effects purely in CSS â€”
 *      the element must be semi-transparent for the effect to show through
 */


/* ==========================================================================
   1. GLASSMORPHISM â€” frosted glass card
   The most common pattern.
   ========================================================================== */

.glass-card {
  background: oklch(1 0 0 / 0.15);
  backdrop-filter: blur(12px) saturate(1.2);
  border: 1px solid oklch(1 0 0 / 0.2);
  border-radius: 0.75rem;
  padding: 1.5rem;
}

/* Dark mode glass */
.glass-card--dark {
  background: oklch(0 0 0 / 0.3);
  backdrop-filter: blur(16px) saturate(1.5);
  border: 1px solid oklch(1 0 0 / 0.1);
}


/* ==========================================================================
   2. FROSTED NAV BAR â€” fixed header with blur
   ========================================================================== */

.nav-bar {
  position: fixed;
  inset-block-start: 0;
  inset-inline: 0;
  z-index: 1;
  background: oklch(1 0 0 / 0.7);
  backdrop-filter: blur(10px);
  border-block-end: 1px solid oklch(0 0 0 / 0.1);
}


/* ==========================================================================
   3. MODAL BACKDROP â€” blurred background
   ========================================================================== */

dialog::backdrop {
  background: oklch(0 0 0 / 0.3);
  backdrop-filter: blur(8px);
}


/* ==========================================================================
   4. ALL FILTER FUNCTIONS â€” reference
   Each works the same as in filter, but applied to the backdrop.

   Function          Example                    Effect
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   blur()            blur(10px)                 Gaussian blur
   brightness()      brightness(1.5)            Lighten/darken
   contrast()        contrast(0.8)              Adjust contrast
   grayscale()       grayscale(1)               Remove color
   hue-rotate()      hue-rotate(90deg)          Shift hue
   invert()          invert(1)                  Invert colors
   opacity()         opacity(0.5)               Transparency
   saturate()        saturate(2)                Boost/reduce color
   sepia()           sepia(0.5)                 Warm tone
   drop-shadow()     drop-shadow(0 2px 4px)     Shadow
   ========================================================================== */


/* ==========================================================================
   5. BRIGHTNESS OVERLAY â€” lightened backdrop
   ========================================================================== */

.light-overlay {
  background: oklch(1 0 0 / 0.1);
  backdrop-filter: brightness(1.3) blur(2px);
}


/* ==========================================================================
   6. TINTED GLASS â€” color + blur
   ========================================================================== */

.tinted-glass {
  background: oklch(0.6 0.15 250 / 0.15);
  backdrop-filter: blur(12px);
}

.tinted-glass--warm {
  background: oklch(0.7 0.1 50 / 0.15);
  backdrop-filter: blur(12px) saturate(1.4);
}


/* ==========================================================================
   7. GRAYSCALE BACKDROP â€” desaturated background
   Content behind appears grayscale, content on top stays colorful.
   ========================================================================== */

.focus-overlay {
  background: oklch(0 0 0 / 0.1);
  backdrop-filter: grayscale(1) blur(2px);
}


/* ==========================================================================
   8. COMBINING MULTIPLE FILTERS
   Apply several filters in sequence.
   ========================================================================== */

.rich-glass {
  background: oklch(1 0 0 / 0.1);
  backdrop-filter:
    blur(16px)
    saturate(1.8)
    brightness(1.1)
    contrast(0.9);
}


/* ==========================================================================
   9. backdrop-filter vs filter

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ filter               â”‚ backdrop-filter                   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ Applies to element   â”‚ Applies to area BEHIND element   â”‚
   â”‚ Blurs the element    â”‚ Blurs what shows through         â”‚
   â”‚ No transparency need â”‚ Element MUST be semi-transparent â”‚
   â”‚ Creates stacking ctx â”‚ Creates stacking ctx             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ========================================================================== */


/* ==========================================================================
   10. PERFORMANCE NOTE
   backdrop-filter is GPU-accelerated but can be expensive on large areas.
   Use will-change sparingly and only on elements that animate.
   ========================================================================== */

.animated-glass {
  backdrop-filter: blur(12px);
  transition: backdrop-filter 0.3s;
}

.animated-glass:hover {
  backdrop-filter: blur(20px) saturate(1.5);
}


/* ==========================================================================
   11. @supports FALLBACK
   ========================================================================== */

@supports not (backdrop-filter: blur(1px)) {
  .glass-card,
  .nav-bar {
    background: oklch(1 0 0 / 0.9);   /* opaque fallback */
  }
}
