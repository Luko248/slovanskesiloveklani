---
phase: 01-foundation-fixes
plan: 03
type: execute
wave: 2
depends_on:
  - 01-01
files_modified:
  - src/components/Hero.astro
  - src/components/EventInfo.astro
  - src/components/Categories.astro
  - src/components/Partners.astro
  - src/components/Gallery.astro
  - src/i18n/cs.json
autonomous: true

must_haves:
  truths:
    - "Hero section displays 9:30 start time from eventConfig"
    - "All components show consistent event date (June 13, 2026)"
    - "No dark: variant classes remain in codebase"
    - "i18n file has no hardcoded date/time values"
  artifacts:
    - path: "src/components/Hero.astro"
      provides: "Hero with eventConfig import"
      contains: "import { getFormattedDateTime }"
  key_links:
    - from: "src/components/Hero.astro"
      to: "src/utils/eventConfig.ts"
      via: "import statement"
      pattern: "import.*from.*eventConfig"
---

<objective>
Centralize event data in components and remove dark mode remnants

Purpose: Update all components to use eventConfig for date/time display, and remove all redundant dark: CSS variants since dark mode is enforced globally.

Output: All components import from eventConfig, consistent 9:30-16:00 times displayed, no dark: variants in codebase
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-fixes/01-RESEARCH.md
@.planning/phases/01-foundation-fixes/01-01-SUMMARY.md
@src/utils/eventConfig.ts
@src/components/Hero.astro
@src/components/EventInfo.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Hero.astro to use eventConfig</name>
  <files>src/components/Hero.astro</files>
  <action>
1. Add import in frontmatter:
   `import { getFormattedDateTime, getFullLocation } from '../utils/eventConfig';`

2. Replace hardcoded date/time on line 35:
   From: `13.06.2026 | 10:00`
   To: `{getFormattedDateTime()}`

   This will display "13.06.2026 | 9:30" (correct start time)

3. Replace hardcoded location on line 39:
   From: `Za Hasicskou Zbrojnici, Pustimer`
   To: `{getFullLocation()}`

Why: Hero currently shows 10:00 but event starts at 9:30 per requirements. Using eventConfig ensures consistency.
  </action>
  <verify>
- Hero imports from eventConfig
- Hero displays "13.06.2026 | 9:30" (not 10:00)
- Hero displays location from eventConfig
- `bun run build` succeeds
  </verify>
  <done>
Hero.astro uses eventConfig for date, time, and location display
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove dark: variants from remaining components</name>
  <files>src/components/EventInfo.astro, src/components/Categories.astro, src/components/Partners.astro, src/components/Gallery.astro</files>
  <action>
Dark mode is enforced globally. Remove redundant dark: variants:

**EventInfo.astro:**
- Line 20: `text-charcoal dark:text-light-cream` -> `text-light-cream`
- Line 25: `prose prose-lg dark:prose-invert` -> `prose prose-lg prose-invert`
- Line 26: `text-charcoal dark:text-gray-300` -> `text-gray-300`
- Line 30: `text-gray-600 dark:text-gray-400` -> `text-gray-400`
- Line 42: `bg-white/50 dark:bg-black/20` -> `bg-black/20`
- Line 46: `text-charcoal dark:text-gray-200` -> `text-gray-200`
- Line 57: `border-white dark:border-gray-800` -> `border-gray-800`

**Categories.astro:**
- Line 4: `text-viking-red dark:text-light-cream` -> `text-light-cream`

**Partners.astro:**
- Line 13: `text-charcoal dark:text-gray-300` -> `text-gray-300`
- Line 21: `text-charcoal dark:text-gray-300` -> `text-gray-300`
- Line 52: `bg-white/10 dark:bg-black/20` -> `bg-black/20`

**Gallery.astro:**
- Line 21: `text-gray-600 dark:text-gray-400` -> `text-gray-400`

Why: Site only runs in dark mode (body has deep-charcoal background). Light variants like text-charcoal would be invisible. Removing dark: prefix makes styles cleaner and reduces confusion.
  </action>
  <verify>
- `grep -r "dark:" src/components/` returns no results
- `bun run build` succeeds
- Visual check: All text remains readable on dark background
  </verify>
  <done>
All dark: variant classes removed from components, base classes use dark theme colors
  </done>
</task>

<task type="auto">
  <name>Task 3: Clean up i18n cs.json date/time values</name>
  <files>src/i18n/cs.json</files>
  <action>
Remove incorrect and unused date/time keys from cs.json:

1. Remove hero.date key (line 12): "07.06.2026"
   - This value is WRONG: shows June 7, but event is June 13
   - Hero.astro has NEVER used this key - it has hardcoded "13.06.2026" directly in the template
   - This key was always orphaned/unused data

2. Remove hero.time key (line 13): "Sobota od 10:00"
   - Hero.astro has NEVER used this key - it has hardcoded "10:00" directly in the template
   - This key was always orphaned/unused data
   - After Task 1, Hero will use eventConfig instead

3. Remove hero.location key (line 14): "Pustimerskee Prusy, hasicska zbrojnice"
   - Hero.astro has NEVER used this key - it has hardcoded location directly in the template
   - This key was always orphaned/unused data
   - After Task 1, Hero will use eventConfig instead

Why these keys exist but were never used: The i18n infrastructure was set up but Hero.astro was built with hardcoded values instead of using the translation system. These keys in cs.json have always been dead/unused data. Removing them eliminates confusion and prevents future developers from thinking they control Hero display.

Keep remaining keys (nav.*, hero.title, hero.subtitle, hero.cta, about.*, footer.*) as they contain translatable text that IS actually used by components.

Result should be:
```json
{
  "nav": { ... },
  "hero": {
    "title": "Slovanske Silove Klani",
    "subtitle": "5. rocnik amaterske silove souteze",
    "cta": "Registrovat se"
  },
  "about": { ... },
  "footer": { ... }
}
```
  </action>
  <verify>
- cs.json has no date, time, or location keys under hero
- `bun run build` succeeds
- No TypeScript errors (these keys were never referenced in code)
  </verify>
  <done>
cs.json cleaned of orphaned event data keys that were never used by components
  </done>
</task>

</tasks>

<verification>
- [ ] `grep -r "dark:" src/` returns no results
- [ ] Hero displays "13.06.2026 | 9:30" (correct time from eventConfig)
- [ ] cs.json has no hero.date, hero.time, or hero.location keys
- [ ] `bun run build` succeeds
- [ ] `bun run dev` - visual check that all sections render correctly with readable text
</verification>

<success_criteria>
- All event data displayed from single source of truth (eventConfig)
- No dark: CSS variants anywhere in codebase
- i18n file contains only translatable text, not event-specific data
- Site displays consistently: June 13, 2026, 9:30-16:00 CEST
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-fixes/01-03-SUMMARY.md`
</output>
